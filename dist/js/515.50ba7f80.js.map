{"version":3,"file":"js/515.50ba7f80.js","mappings":"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","sources":["webpack://vue_flower/./src/views/UserLove.vue","webpack://vue_flower/./src/views/UserLove.vue?0ef2"],"sourcesContent":["<template>\r\n<UserLoading :active=\"isLoading\"></UserLoading>\r\n<section class=\"container pb-5 pt-md-5\">\r\n<div class=\"row\">\r\n  <h2 class=\"mb-4\">我的最愛</h2>\r\n    <div data-bs-spy=\"scroll\" data-bs-target=\"#navbar-example3\" data-bs-offset=\"0\" tabindex=\"0\" class=\"col-md-12\">\r\n      <div class=\"row row-cols-2 row-cols-md-4 g-4 mb-2\">\r\n        <template v-for=\"item in loveF\" :key=\"item.id\">\r\n          <div class=\"col mb-2\">\r\n            <div class=\"card h-100 position-relative border-0\" style=\"overflow: hidden;\">\r\n              <div class=\"position-absolute top-0 start-100 bg-white\" style=\"width: 60px; height: 60px; transform: translate(-50%,-50%) rotate(45deg);\"></div>\r\n              <i class=\"bi bi-heart-fill text-danger position-absolute\" style=\"top: 2px; right: 5px;\"\r\n              @click=\"changeHeart($event), pushLoveFlower(item)\"></i>\r\n              <img :src=item.imageUrl class=\"card-img-top\" alt=\"\" style=\"height: 200px; object-fit: cover;\">\r\n              <div class=\"card-body bg-pageBack d-flex flex-column justify-content-between\">\r\n                <h5 class=\"card-title\">{{ item.title }}</h5>\r\n                <div class=\"h5\" v-if=\"!item.price\">{{ item.origin_price }} 元</div>\r\n                <del class=\"h6\" v-if=\"item.price !== item.origin_price\">NT$ {{ item.origin_price }} </del>\r\n                <div class=\"h5\" v-if=\"item.price\">NT$ {{ item.price }} 元</div>\r\n\r\n                <div class=\"btn-group btn-group-sm\">\r\n                  <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                          @click=\"getProduct(item.id)\">\r\n                    查看更多\r\n                  </button>\r\n                  <button type=\"button\" class=\"btn btn-outline-danger\"\r\n                  :disabled=\"this.status.loadingItem === item.id\"\r\n                  @click=\"addCart(item.id)\">\r\n                  <div v-if=\"this.status.loadingItem === item.id\" class=\"spinner-grow text-danger spinner-grow-sm\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                    加到購物車\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </div>\r\n</div>\r\n</section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      cart: {},\r\n      coupon_code: '',\r\n      isLoading: false,\r\n      flowerType: [\r\n        { 鮮花花束: ['浪漫玫瑰花束', '繽紛混合花束'] },\r\n        { 花藝設計: ['婚禮花藝', '企業花藝'] },\r\n        { 盆栽與多肉植物: ['綠色盆栽', '迷你多肉植物'] }\r\n      ],\r\n      loveF: []\r\n    }\r\n  },\r\n  inject: ['emitter', '$httpMessageState'],\r\n  methods: {\r\n    getProducts () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        this.products = response.data.products\r\n        // console.log('products:', response)\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/product/${id}`)\r\n    },\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        // console.log(response)\r\n        this.cart = response.data.data\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    addCart (id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(url, { data: cart }).then((res) => {\r\n        this.status.loadingItem = ''\r\n        console.log(res)\r\n        this.getCart()\r\n      })\r\n    },\r\n    updateCart (item) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.isLoading = true\r\n      this.status.loadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.$http.put(url, { data: cart }).then((res) => {\r\n        console.log(res)\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n      })\r\n    },\r\n    addCouponCode () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: coupon }).then((response) => {\r\n        this.$httpMessageState(response, '加入優惠券')\r\n        this.getCart()\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    removeCartItem (id) {\r\n      this.status.loadingItem = id\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.isLoading = true\r\n      this.$http.delete(url).then((response) => {\r\n        this.$httpMessageState(response, '移除購物車品項')\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    createOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.$http.post(url, { data: order })\r\n        .then((res) => {\r\n          console.log(res)\r\n        })\r\n    },\r\n    scrollIntoView (id) {\r\n      document.getElementById(id).scrollIntoView()\r\n    },\r\n    changeHeart: (event) => {\r\n      event.target.classList.toggle('bi-heart')\r\n      event.target.classList.toggle('bi-heart-fill')\r\n      event.target.classList.toggle('text-danger')\r\n    },\r\n    pushLoveFlower (item) {\r\n      const loveLength = this.loveF.length\r\n      if (loveLength === 0) {\r\n        this.loveF.push(item)\r\n      } else {\r\n        this.loveF.forEach((value, index) => {\r\n          if (value.title === item.title) {\r\n            this.loveF.splice(index, 1)\r\n          } else if (value.title !== item.title && index === loveLength - 1) {\r\n            this.loveF.push(item)\r\n          }\r\n        })\r\n      }\r\n      this.emitter.emit('getLoveFlower', this.loveF)\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.getCart()\r\n    this.emitter.on('pushLoveFlower', (msg) => {\r\n      this.loveF = JSON.parse(JSON.stringify(msg))\r\n      console.log('123', msg)\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.btn-one {\r\ncolor: #FFF !important;\r\ntransition: all 0.3s;\r\nposition: relative;\r\n}\r\n.active {\r\n  background-color: #DCCBAE !important;\r\n  transition: all 0.3s;\r\n  color: black !important;\r\n  letter-spacing: 2px;\r\n}\r\n.btn-one span {\r\ntransition: all 0.3s;\r\n}\r\n.btn-one::before {\r\ncontent: '';\r\nposition: absolute;\r\nbottom: 0;\r\nleft: 0;\r\nwidth: 100%;\r\nheight: 100%;\r\nz-index: 1;\r\nopacity: 0;\r\ntransition: all 0.3s;\r\nborder-top-width: 1px;\r\nborder-bottom-width: 1px;\r\nborder-top-style: solid;\r\nborder-bottom-style: solid;\r\nborder-top-color: rgba(255,255,255,0.5);\r\nborder-bottom-color: rgba(255,255,255,0.5);\r\ntransform: scale(0.1, 1);\r\n}\r\n.btn-one:hover span {\r\nletter-spacing: 2px;\r\ncolor: black !important;\r\n}\r\n.btn-one:hover::before {\r\nopacity: 1;\r\ntransform: scale(1, 1);\r\n}\r\n.btn-one.active::before {\r\nopacity: 1;\r\ntransform: scale(1, 1);\r\n}\r\n.btn-one::after {\r\ncontent: '';\r\nposition: absolute;\r\nbottom: 0;\r\nleft: 0;\r\nwidth: 100%;\r\nheight: 100%;\r\nz-index: 1;\r\ntransition: all 0.3s;\r\nbackground-color: rgba(255,255,255,0.1);\r\n}\r\n.btn-one:hover::after {\r\nopacity: 0;\r\ntransform: scale(0.1, 1);\r\n}\r\n.btn-one.active::after {\r\nopacity: 0;\r\ntransform: scale(0.1, 1);\r\n}\r\n</style>\r\n","import { render } from \"./UserLove.vue?vue&type=template&id=266e1d6e\"\nimport script from \"./UserLove.vue?vue&type=script&lang=js\"\nexport * from \"./UserLove.vue?vue&type=script&lang=js\"\n\nimport \"./UserLove.vue?vue&type=style&index=0&id=266e1d6e&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","tabindex","style","key","role","_hoisted_19","_createElementBlock","_Fragment","_createVNode","_component_UserLoading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_renderList","loveF","item","id","_hoisted_6","_hoisted_7","onClick","$event","$options","changeHeart","pushLoveFlower","_hoisted_8","src","imageUrl","alt","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","title","price","_createCommentVNode","_hoisted_12","origin_price","_hoisted_13","_hoisted_14","_hoisted_15","type","getProduct","_hoisted_16","disabled","status","loadingItem","addCart","_hoisted_18","_hoisted_20","_createTextVNode","_hoisted_17","data","products","product","form","user","name","email","tel","address","message","cart","coupon_code","flowerType","鮮花花束","花藝設計","盆栽與多肉植物","inject","methods","getProducts","url","this","$http","get","then","response","$router","push","getCart","product_id","qty","post","res","console","log","updateCart","put","addCouponCode","coupon","code","$httpMessageState","removeCartItem","delete","createOrder","order","scrollIntoView","document","getElementById","event","target","classList","toggle","loveLength","length","forEach","value","index","splice","emitter","emit","created","on","msg","JSON","parse","stringify","__exports__","render"],"sourceRoot":""}