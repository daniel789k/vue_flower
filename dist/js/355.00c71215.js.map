{"version":3,"file":"js/355.00c71215.js","mappings":"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","sources":["webpack://vue_flower/./src/stores/cartStore.js","webpack://vue_flower/./src/views/frontend/UserCheckForm.vue","webpack://vue_flower/./src/views/frontend/UserCheckForm.vue?8ef0"],"sourcesContent":["import { defineStore } from 'pinia'\r\n\r\nexport const buyCountStore = defineStore('buyCount', {\r\n  state: () => ({\r\n    buyCount: 0\r\n  }),\r\n  getters: {\r\n    getbuyCount: ({ buyCount }) => {\r\n      return buyCount\r\n    }\r\n  },\r\n  actions: {\r\n    setbuyCount (count) {\r\n      this.buyCount = count\r\n    }\r\n  }\r\n})\r\n","<template>\r\n  <UserLoading :active=\"isLoading\"/>\r\n\r\n  <div class=\"container-fluid\">\r\n    <div class=\"container-fluid p-3 align-items-center\">\r\n      <div class=\"d-flex justify-content-center\">\r\n        <button type=\"button\"\r\n          class=\"btn bg-success text-white btn-sm rounded-pill\"\r\n          style=\"width: 2rem; height: 2rem\"\r\n        >\r\n          1\r\n        </button>\r\n        <p class=\"ms-2 my-auto text-success\">訂購資料</p>\r\n        <span\r\n          class=\"bg-white w-25 rounded my-auto mx-3\"\r\n          style=\"height: 0.2rem\"\r\n        >\r\n        </span>\r\n        <button type=\"button\"\r\n          class=\"btn bg-white text-black btn-sm rounded-pill\"\r\n          style=\"width: 2rem; height: 2rem\"\r\n        >\r\n          2\r\n        </button>\r\n        <p class=\"ms-2 my-auto text-black\">確認付款</p>\r\n        <span\r\n          class=\"bg-white w-25 rounded my-auto mx-3\"\r\n          style=\"height: 0.2rem\"\r\n        >\r\n        </span>\r\n        <button type=\"button\"\r\n          class=\"btn bg-white text-black btn-sm rounded-pill\"\r\n          style=\"width: 2rem; height: 2rem\"\r\n        >\r\n          3\r\n        </button>\r\n        <p class=\"ms-2 my-auto text-black\">完成訂單</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row container mx-auto\">\r\n  <!-- 表單 -->\r\n    <div class=\"col-md-6\">\r\n      <div class=\"my-4 row justify-content-center\">\r\n        <UserForm class=\"col-md-11\" v-slot=\"{ errors }\"\r\n          @submit=\"createOrder\">\r\n          <div class=\"mb-3\">\r\n              <label for=\"email\" class=\"form-label\">Email *</label>\r\n              <UserField id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['email'] }\"\r\n                      placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n                      v-model=\"form.user.email\"></UserField>\r\n              <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"name\" class=\"form-label\">收件人姓名 *</label>\r\n              <UserField id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                      placeholder=\"請輸入姓名\" rules=\"required\"\r\n                      v-model=\"form.user.name\"></UserField>\r\n              <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"tel\" class=\"form-label\">收件人電話 *</label>\r\n              <UserField id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                      placeholder=\"請輸入電話\" rules=\"required\"\r\n                      v-model=\"form.user.tel\"></UserField>\r\n              <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"address\" class=\"form-label\">收件人地址 *</label>\r\n              <UserField id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                      placeholder=\"請輸入地址\" rules=\"required\"\r\n                      v-model=\"form.user.address\"></UserField>\r\n              <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"message\" class=\"form-label\">留言</label>\r\n              <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"3\"\r\n                      v-model=\"form.message\"></textarea>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n            </div>\r\n            <div class=\"text-end\">\r\n              <button type=\"submit\" class=\"btn btn-danger\">送出訂單</button>\r\n            </div>\r\n        </UserForm>\r\n      </div>\r\n    </div>\r\n  <!-- 購買商品 -->\r\n    <div class=\"col-md-6 sticky-top h-100 mb-3 mt-3 bg-transparent\" style=\"top: 56px;\">\r\n      <table class=\"table align-middle border-light\" style=\"--bs-table-bg: rgba(0,0,0,0);\">\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th style=\"width: 120px\"></th>\r\n            <th style=\"width: 120px\">品名</th>\r\n            <th style=\"width: 120px\">數量</th>\r\n            <th>單價</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <template v-if=\"cart.carts\">\r\n            <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n              <td>\r\n                <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\r\n                :disabled=\"status.loadingItem === item.id\"\r\n                @click=\"removeCartItem(item.id)\">\r\n                  <i class=\"bi bi-x\"></i>\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <img :src=\"item.product.imageUrl\" alt=\"商品圖片\" class=\"img-fluid\">\r\n              </td>\r\n              <td>\r\n                {{ item.product.title }}\r\n                <div class=\"text-success\" v-if=\"item.coupon\">\r\n                  已套用優惠券\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <div class=\"input-group input-group-sm\">\r\n                  <input type=\"number\" class=\"form-control\"\r\n                  min=\"1\"\r\n                  :disabled=\"item.id === status.loadingItem\"\r\n                  @change=\"updateCart(item)\"\r\n                  v-model.number=\"item.qty\">\r\n                  <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\r\n                </div>\r\n              </td>\r\n              <td class=\"text-end\">\r\n                <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\r\n                {{ $filters.currency(item.final_total) }}\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-end\">總計</td>\r\n            <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\r\n          </tr>\r\n          <tr v-if=\"cart.final_total !== cart.total\">\r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n            <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n      <div class=\"input-group input-group-sm w-50 ms-auto\">\r\n        <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\r\n        <div class=\"input-group-append\">\r\n          <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\r\n            套用優惠碼\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { buyCountStore } from '@/stores/cartStore'\r\nimport { mapState } from 'pinia'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      cart: {},\r\n      isLoading: false,\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      products: [],\r\n      coupon_code: ''\r\n    }\r\n  },\r\n  inject: ['$httpMessageState'],\r\n  methods: {\r\n    createOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.$http.post(url, { data: order })\r\n        .then((res) => {\r\n          this.$httpMessageState(res, '建立訂單')\r\n          this.setbuyCount(0)\r\n          this.$router.push(`/checkout/${res.data.orderId}`)\r\n        })\r\n    },\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        this.cart = response.data.data\r\n        this.isLoading = false\r\n        if (this.cart.carts[0].coupon) {\r\n          this.coupon_code = this.cart.carts[0].coupon.code\r\n        }\r\n      })\r\n    },\r\n    updateCart (item) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.isLoading = true\r\n      this.status.loadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.$http.put(url, { data: cart }).then((res) => {\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n      })\r\n    },\r\n    addCouponCode () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      let coupon = {}\r\n      if (this.coupon_code !== '') {\r\n        this.nowuse_coupon_code = this.coupon_code\r\n      } else {\r\n        this.coupon_code = this.nowuse_coupon_code\r\n      }\r\n      if (this.cart.carts.length === 0) {\r\n        this.coupon_code = ''\r\n        this.nowuse_coupon_code = ''\r\n      }\r\n      coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: coupon }).then((response) => {\r\n        if (this.coupon_code) {\r\n          this.$httpMessageState(response, '加入優惠券')\r\n          this.getCart()\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    removeCartItem (id) {\r\n      this.status.loadingItem = id\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.isLoading = true\r\n      this.$http.delete(url).then((response) => {\r\n        this.$httpMessageState(response, '移除購物車品項')\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n        this.isLoading = false\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(buyCountStore, ['getbuyCount', 'setbuyCount'])\r\n  },\r\n  created () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCheckForm.vue?vue&type=template&id=160d87b4\"\nimport script from \"./UserCheckForm.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["buyCountStore","defineStore","state","buyCount","getters","getbuyCount","actions","setbuyCount","count","this","_createStaticVNode","class","_createElementVNode","for","type","style","_hoisted_21","key","colspan","_createElementBlock","_Fragment","_createVNode","_component_UserLoading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_UserForm","onSubmit","$options","createOrder","default","_withCtx","errors","_hoisted_5","_hoisted_6","_component_UserField","id","name","_normalizeClass","placeholder","rules","modelValue","form","user","email","_cache","$event","_component_ErrorMessage","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","tel","_hoisted_11","_hoisted_12","address","_hoisted_13","_hoisted_14","cols","rows","message","_hoisted_15","_hoisted_16","_","_hoisted_17","_hoisted_18","_hoisted_19","cart","carts","_renderList","item","disabled","status","loadingItem","onClick","removeCartItem","_hoisted_22","_hoisted_20","src","product","imageUrl","alt","_hoisted_23","_createTextVNode","_toDisplayString","title","coupon","_hoisted_24","_createCommentVNode","_hoisted_25","min","onChange","updateCart","qty","_hoisted_26","number","_hoisted_27","unit","_hoisted_28","final_total","total","_hoisted_29","_ctx","$filters","currency","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","coupon_code","_hoisted_38","args","addCouponCode","data","products","inject","methods","url","order","$http","post","then","res","$httpMessageState","$router","push","orderId","getCart","get","response","code","product_id","put","nowuse_coupon_code","length","delete","computed","mapState","created","__exports__","render"],"sourceRoot":""}