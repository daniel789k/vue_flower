"use strict";(self["webpackChunkvue_flower"]=self["webpackChunkvue_flower"]||[]).push([[932],{5932:function(t,e,s){s.r(e),s.d(e,{default:function(){return Q}});var l=s(641),r=s(3751),n=s(33);const u={class:"container-fluid"},d={class:"container-fluid p-3 align-items-center"},a={class:"d-flex justify-content-center"},o=(0,l.Fv)('<button type="button" class="btn bg-success text-white btn-sm rounded-pill" style="width:2rem;height:2rem;"> 1 </button><p class="ms-2 my-auto text-success">訂購資料</p><span class="bg-success w-25 rounded my-auto mx-3" style="height:0.2rem;"></span><button type="button" class="btn bg-success text-white btn-sm rounded-pill" style="width:2rem;height:2rem;"> 2 </button><p class="ms-2 my-auto text-success">確認付款</p>',5),i={key:0,class:"bg-white w-25 rounded my-auto mx-3",style:{height:"0.2rem"}},c={key:1,class:"bg-success w-25 rounded my-auto mx-3",style:{height:"0.2rem"}},h={key:2,type:"button",class:"btn bg-white text-black btn-sm rounded-pill",style:{width:"2rem",height:"2rem"}},k={key:3,type:"button",class:"btn bg-success text-white btn-sm rounded-pill",style:{width:"2rem",height:"2rem"}},p={key:4,class:"ms-2 my-auto text-black"},b={key:5,class:"ms-2 my-auto text-success"},m={class:"py-5 row justify-content-center container"},y={class:"table align-middle"},L=(0,l.Lk)("thead",null,[(0,l.Lk)("th",null,"品名"),(0,l.Lk)("th",null,"數量"),(0,l.Lk)("th",null,"單價")],-1),v={class:"text-end"},g=(0,l.Lk)("td",{colspan:"2",class:"text-end"},"總計",-1),f={class:"text-end"},w={class:"table"},x=(0,l.Lk)("th",{width:"100"},"Email",-1),_=(0,l.Lk)("th",null,"姓名",-1),C=(0,l.Lk)("th",null,"收件人電話",-1),E=(0,l.Lk)("th",null,"收件人地址",-1),X=(0,l.Lk)("th",null,"付款狀態",-1),I={key:0},O={key:1,class:"text-success"},$={key:0,class:"text-end"},F=(0,l.Lk)("button",{type:"button",class:"btn btn-danger"},"確認付款去",-1),j=[F];function K(t,e,s,F,K,q){const A=(0,l.g2)("Loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(A,{active:K.isLoading},null,8,["active"]),(0,l.Lk)("div",u,[(0,l.Lk)("div",d,[(0,l.Lk)("div",a,[o,K.order.is_paid?((0,l.uX)(),(0,l.CE)("span",c)):((0,l.uX)(),(0,l.CE)("span",i)),K.order.is_paid?((0,l.uX)(),(0,l.CE)("button",k," 3 ")):((0,l.uX)(),(0,l.CE)("button",h," 3 ")),K.order.is_paid?((0,l.uX)(),(0,l.CE)("p",b,"完成訂單")):((0,l.uX)(),(0,l.CE)("p",p,"完成訂單"))])])]),(0,l.Lk)("div",m,[(0,l.Lk)("form",{class:"col-md-6",onSubmit:e[0]||(e[0]=(0,r.D$)(((...t)=>q.payOrder&&q.payOrder(...t)),["prevent"]))},[(0,l.Lk)("table",y,[L,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(K.order.products,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",null,(0,n.v_)(t.product.title),1),(0,l.Lk)("td",null,(0,n.v_)(t.qty)+"/"+(0,n.v_)(t.product.unit),1),(0,l.Lk)("td",v,(0,n.v_)(t.final_total),1)])))),128))]),(0,l.Lk)("tfoot",null,[(0,l.Lk)("tr",null,[g,(0,l.Lk)("td",f,(0,n.v_)(K.order.total),1)])])]),(0,l.Lk)("table",w,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[x,(0,l.Lk)("td",null,(0,n.v_)(K.order.user.email),1)]),(0,l.Lk)("tr",null,[_,(0,l.Lk)("td",null,(0,n.v_)(K.order.user.name),1)]),(0,l.Lk)("tr",null,[C,(0,l.Lk)("td",null,(0,n.v_)(K.order.user.tel),1)]),(0,l.Lk)("tr",null,[E,(0,l.Lk)("td",null,(0,n.v_)(K.order.user.address),1)]),(0,l.Lk)("tr",null,[X,(0,l.Lk)("td",null,[K.order.is_paid?((0,l.uX)(),(0,l.CE)("span",O,"付款完成")):((0,l.uX)(),(0,l.CE)("span",I,"尚未付款"))])])])]),!1===K.order.is_paid?((0,l.uX)(),(0,l.CE)("div",$,j)):(0,l.Q3)("",!0)],32)])],64)}var q={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/vue-final-flower/order/${this.orderId}`;this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order)}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/vue-final-flower/pay/${this.orderId}`;this.$http.post(t).then((t=>{t.data.success&&this.getOrder()}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},A=s(6262);const D=(0,A.A)(q,[["render",K]]);var Q=D}}]);
//# sourceMappingURL=932.ac1a3a8b.js.map