{"version":3,"file":"js/755.686b2586.js","mappings":"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","sources":["webpack://vue_flower/./src/views/UserCheckForm.vue","webpack://vue_flower/./src/views/UserCheckForm.vue?b5f5"],"sourcesContent":["<template>\r\n    <UserLoading :active=\"isLoading\"></UserLoading>\r\n\r\n<div class=\"container-fluid\">\r\n  <div class=\"container-fluid p-3 align-items-center\">\r\n    <div class=\"d-flex justify-content-center\">\r\n      <button\r\n        class=\"btn bg-success text-white btn-sm rounded-pill\"\r\n        style=\"width: 2rem; height: 2rem\"\r\n      >\r\n        1\r\n      </button>\r\n      <p class=\"ms-2 my-auto text-success\">訂購資料</p>\r\n      <span\r\n        class=\"bg-white w-25 rounded my-auto mx-3\"\r\n        style=\"height: 0.2rem\"\r\n      >\r\n      </span>\r\n      <button\r\n        class=\"btn bg-white text-black btn-sm rounded-pill\"\r\n        style=\"width: 2rem; height: 2rem\"\r\n      >\r\n        2\r\n      </button>\r\n      <p class=\"ms-2 my-auto text-black\">確認付款</p>\r\n      <span\r\n        class=\"bg-white w-25 rounded my-auto mx-3\"\r\n        style=\"height: 0.2rem\"\r\n      >\r\n      </span>\r\n      <button\r\n        class=\"btn bg-white text-black btn-sm rounded-pill\"\r\n        style=\"width: 2rem; height: 2rem\"\r\n      >\r\n        3\r\n      </button>\r\n      <p class=\"ms-2 my-auto text-black\">完成訂單</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row container\">\r\n  <!-- 表單 -->\r\n  <div class=\"col-md-6\">\r\n      <div class=\"my-4 row justify-content-center\">\r\n          <UserForm class=\"col-md-8\" v-slot=\"{ errors }\"\r\n              @submit=\"createOrder\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"email\" class=\"form-label\">Email</label>\r\n              <UserField id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['email'] }\"\r\n                      placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n                      v-model=\"form.user.email\"></UserField>\r\n              <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n              <UserField id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                      placeholder=\"請輸入姓名\" rules=\"required\"\r\n                      v-model=\"form.user.name\"></UserField>\r\n              <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n              <UserField id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                      placeholder=\"請輸入電話\" rules=\"required\"\r\n                      v-model=\"form.user.tel\"></UserField>\r\n              <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n              <UserField id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                      placeholder=\"請輸入地址\" rules=\"required\"\r\n                      v-model=\"form.user.address\"></UserField>\r\n              <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"message\" class=\"form-label\">留言</label>\r\n              <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"3\"\r\n                      v-model=\"form.message\"></textarea>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n            </div>\r\n            <div class=\"text-end\">\r\n              <button class=\"btn btn-danger\">送出訂單</button>\r\n            </div>\r\n          </UserForm>\r\n      </div>\r\n  </div>\r\n  <!-- 購買商品 -->\r\n  <div class=\"col-md-6 sticky-top h-100 mb-3 mt-3 bg-transparent\" style=\"top: 56px;\">\r\n    <table class=\"table align-middle border-light\" style=\"--bs-table-bg: rgba(0,0,0,0);\">\r\n      <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th style=\"width: 120px\"></th>\r\n          <th style=\"width: 120px\">品名</th>\r\n          <th style=\"width: 120px\">數量</th>\r\n          <th>單價</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n      <template v-if=\"cart.carts\">\r\n        <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n          <td>\r\n            <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\r\n                    :disabled=\"status.loadingItem === item.id\"\r\n                    @click=\"removeCartItem(item.id)\">\r\n              <i class=\"bi bi-x\"></i>\r\n            </button>\r\n          </td>\r\n          <td>\r\n            <img :src=\"item.product.imageUrl\" alt=\"\" class=\"img-fluid\">\r\n          </td>\r\n          <td>\r\n            {{ item.product.title }}\r\n            <div class=\"text-success\" v-if=\"item.coupon\">\r\n              已套用優惠券\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class=\"input-group input-group-sm\">\r\n              <input type=\"number\" class=\"form-control\"\r\n              min=\"1\"\r\n              :disabled=\"item.id === status.loadingItem\"\r\n              @change=\"updateCart(item)\"\r\n              v-model.number=\"item.qty\">\r\n              <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\r\n            </div>\r\n          </td>\r\n          <td class=\"text-end\">\r\n            <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\r\n            {{ $filters.currency(item.final_total) }}\r\n          </td>\r\n        </tr>\r\n      </template>\r\n      </tbody>\r\n      <tfoot>\r\n      <tr>\r\n        <td></td>\r\n        <td colspan=\"3\" class=\"text-end\">總計</td>\r\n        <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\r\n      </tr>\r\n      <tr v-if=\"cart.final_total !== cart.total\">\r\n        <td></td>\r\n        <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n        <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\r\n      </tr>\r\n      </tfoot>\r\n    </table>\r\n    <div class=\"input-group input-group-sm w-50 ms-auto\">\r\n      <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\r\n      <div class=\"input-group-append\">\r\n        <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\r\n          套用優惠碼\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      cart: {},\r\n      isLoading: false,\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      products: []\r\n    }\r\n  },\r\n  inject: ['$httpMessageState'],\r\n  methods: {\r\n    createOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.$http.post(url, { data: order })\r\n        .then((res) => {\r\n          console.log(res)\r\n          this.$httpMessageState(res, '建立訂單')\r\n          this.$router.push('/orders')\r\n        })\r\n    },\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        this.cart = response.data.data\r\n        this.isLoading = false\r\n        if (this.cart.carts[0].coupon) {\r\n          this.coupon_code = this.cart.carts[0].coupon.code\r\n        }\r\n      })\r\n    },\r\n    updateCart (item) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.isLoading = true\r\n      this.status.loadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.$http.put(url, { data: cart }).then((res) => {\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n      })\r\n    },\r\n    addCouponCode () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      let coupon = {}\r\n      if (this.coupon_code !== '') {\r\n        this.nowuse_coupon_code = this.coupon_code\r\n      } else {\r\n        this.coupon_code = this.nowuse_coupon_code\r\n      }\r\n      coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: coupon }).then((response) => {\r\n        this.$httpMessageState(response, '加入優惠券')\r\n        this.getCart()\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    removeCartItem (id) {\r\n      this.status.loadingItem = id\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.isLoading = true\r\n      this.$http.delete(url).then((response) => {\r\n        this.$httpMessageState(response, '移除購物車品項')\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n        this.isLoading = false\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCheckForm.vue?vue&type=template&id=0237d51c\"\nimport script from \"./UserCheckForm.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createStaticVNode","class","_createElementVNode","for","style","_hoisted_21","key","colspan","_createElementBlock","_Fragment","_createVNode","_component_UserLoading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_UserForm","onSubmit","$options","createOrder","default","_withCtx","errors","_hoisted_5","_hoisted_6","_component_UserField","id","name","type","_normalizeClass","placeholder","rules","modelValue","form","user","email","_cache","$event","_component_ErrorMessage","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","tel","_hoisted_11","_hoisted_12","address","_hoisted_13","_hoisted_14","cols","rows","message","_hoisted_15","_hoisted_16","_","_hoisted_17","_hoisted_18","_hoisted_19","cart","carts","_renderList","item","disabled","status","loadingItem","onClick","removeCartItem","_hoisted_22","_hoisted_20","src","product","imageUrl","alt","_hoisted_23","_createTextVNode","_toDisplayString","title","coupon","_hoisted_24","_createCommentVNode","_hoisted_25","min","onChange","updateCart","qty","_hoisted_26","number","_hoisted_27","unit","_hoisted_28","final_total","total","_hoisted_29","_ctx","$filters","currency","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","coupon_code","_hoisted_38","args","addCouponCode","data","products","inject","methods","url","order","this","$http","post","then","res","console","log","$httpMessageState","$router","push","getCart","get","response","code","product_id","put","nowuse_coupon_code","delete","created","__exports__","render"],"sourceRoot":""}