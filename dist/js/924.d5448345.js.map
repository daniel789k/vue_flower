{"version":3,"file":"js/924.d5448345.js","mappings":"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","sources":["webpack://vue_flower/./src/stores/cartStore.js","webpack://vue_flower/./src/views/frontend/UserProductDetail.vue","webpack://vue_flower/./src/views/frontend/UserProductDetail.vue?6a02"],"sourcesContent":["import { defineStore } from 'pinia'\r\n\r\nexport const buyCountStore = defineStore('buyCount', {\r\n  state: () => ({\r\n    buyCount: 0\r\n  }),\r\n  getters: {\r\n    getbuyCount: ({ buyCount }) => {\r\n      return buyCount\r\n    }\r\n  },\r\n  actions: {\r\n    setbuyCount (count) {\r\n      this.buyCount = count\r\n    }\r\n  }\r\n})\r\n","<template>\r\n  <UserLoading :active=\"isLoading\"/>\r\n  <div class=\"container px-5\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb pt-3\">\r\n        <li class=\"breadcrumb-item\"><router-link class=\"text-secondary text-decoration-none\" to=\"/products\">產品</router-link></li>\r\n        <li class=\"breadcrumb-item active text-mainColor\" aria-current=\"page\">{{ product.title }}</li>\r\n      </ol>\r\n    </nav>\r\n    <div class=\"row justify-content-center mb-5\">\r\n      <article class=\"col-12 col-lg-4 d-flex align-items-center align-items-lg-start\">\r\n        <img :src=\"product.imageUrl\" alt=\"商品圖片\" class=\"img-fluid mx-auto ms-lg-0 d-block\" style=\"height: 80%; object-fit: cover;\">\r\n      </article>\r\n      <div class=\"col-12 col-lg-8\">\r\n        <h2>{{ product.title }}</h2>\r\n        <div>{{ product.content }}</div>\r\n        <pre class=\"mt-3\" style=\"overflow-x: hidden;\">{{ product.description }}</pre>\r\n        <div class=\"h5\" v-if=\"!product.price\">{{ product.origin_price }} 元</div>\r\n        <del class=\"h6 text-muted\" v-if=\"product.price\">原價 {{ product.origin_price }} 元</del>\r\n        <div class=\"h5 text-subColor1\" v-if=\"product.price\">現在只要 {{ product.price }} 元</div>\r\n        <hr>\r\n        <div class=\"input-group input-group-sm mb-2\">\r\n          <input type=\"number\" class=\"form-control flex-grow-0 w-25 text-center\"\r\n          min=\"1\" v-model.number=\"qty\">\r\n          <div class=\"input-group-text\">/ 朵</div>\r\n          <button type=\"button\" class=\"btn btn-outline-mainColor\"\r\n          @click=\"addToCart(product.id)\">\r\n            加到購物車\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <h2 class=\"mb-3\">推薦商品</h2>\r\n    <!-- 電腦版推薦 -->\r\n    <swiper\r\n      :navigation=\"true\"\r\n      :slidesPerView=\"3\"\r\n      :spaceBetween=\"50\"\r\n      :pagination=\"{\r\n        dynamicBullets: true,\r\n        clickable: true,\r\n      }\"\r\n      :modules=\"modules\"\r\n      class=\"mySwiper pb-4\"\r\n      style=\"--swiper-theme-color: #564527;\"\r\n      v-if=\"windowWidth > 992\"\r\n    >\r\n      <template v-for=\"item in recommendP\" :key=\"item.id\">\r\n        <swiper-slide class=\"\">\r\n          <div class=\"card h-100\">\r\n            <img :src=item.imageUrl class=\"card-img-top\" alt=\"商品圖片\"\r\n            @click=\"getrecommend(item.id)\" style=\"height: 200px; object-fit: cover;\">\r\n            <div class=\"card-body bg-navBack d-flex flex-column justify-content-between\">\r\n              <h5 class=\"card-title\" @click=\"getrecommend(item.id)\">{{ item.title }}</h5>\r\n              <div class=\"h5\" @click=\"getrecommend(item.id)\" v-if=\"!item.price\">{{ item.origin_price }} 元</div>\r\n              <del class=\"h6 text-muted\" @click=\"getrecommend(item.id)\" v-if=\"item.price\">原價 {{ item.origin_price }} 元</del>\r\n              <div class=\"h5 text-subColor1\" @click=\"getrecommend(item.id)\" v-if=\"item.price\">現在只要 {{ item.price }} 元</div>\r\n\r\n              <div class=\"btn-group btn-group-sm\">\r\n                <!-- <button type=\"button\" class=\"btn btn-outline-secondary\">\r\n                  查看更多\r\n                </button> -->\r\n                <button type=\"button\" class=\"btn btn-outline-mainColor\"\r\n                :disabled=\"status.loadingItem === item.id\"\r\n                @click=\"addrecommend(item.id)\">\r\n                <div v-if=\"status.loadingItem === item.id\" class=\"spinner-grow text-mainColor spinner-grow-sm\" role=\"status\">\r\n                  <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n                  加到購物車\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </swiper-slide>\r\n      </template>\r\n    </swiper>\r\n    <!-- 手機板推薦 -->\r\n    <swiper\r\n      :navigation=\"true\"\r\n      :slidesPerView=\"1\"\r\n      :spaceBetween=\"50\"\r\n      :pagination=\"{\r\n        dynamicBullets: true,\r\n        clickable: true,\r\n      }\"\r\n      :modules=\"modules\"\r\n      class=\"mySwiper pb-4\"\r\n      style=\"--swiper-theme-color: #564527;\"\r\n      v-else\r\n    >\r\n      <template v-for=\"item in recommendP\" :key=\"item.id\">\r\n        <swiper-slide class=\"\">\r\n          <div class=\"card h-100\">\r\n            <img :src=item.imageUrl class=\"card-img-top\" alt=\"商品圖片\"\r\n            @click=\"getrecommend(item.id)\" style=\"height: 200px; object-fit: cover;\">\r\n            <div class=\"card-body bg-navBack d-flex flex-column justify-content-between\">\r\n              <h5 class=\"card-title\" @click=\"getrecommend(item.id)\">{{ item.title }}</h5>\r\n              <div class=\"h5\" @click=\"getrecommend(item.id)\" v-if=\"!item.price\">{{ item.origin_price }} 元</div>\r\n              <del class=\"h6 text-muted\" @click=\"getrecommend(item.id)\" v-if=\"item.price\">原價 {{ item.origin_price }} 元</del>\r\n              <div class=\"h5 text-subColor1\" @click=\"getrecommend(item.id)\" v-if=\"item.price\">現在只要 {{ item.price }} 元</div>\r\n\r\n              <div class=\"btn-group btn-group-sm\">\r\n                <!-- <button type=\"button\" class=\"btn btn-outline-secondary\">\r\n                  查看更多\r\n                </button> -->\r\n                <button type=\"button\" class=\"btn btn-outline-mainColor\"\r\n                :disabled=\"status.loadingItem === item.id\"\r\n                @click=\"addrecommend(item.id)\">\r\n                <div v-if=\"status.loadingItem === item.id\" class=\"spinner-grow text-mainColor spinner-grow-sm\" role=\"status\">\r\n                  <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n                  加到購物車\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </swiper-slide>\r\n      </template>\r\n    </swiper>\r\n    <div class=\"py-3\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Swiper, SwiperSlide } from 'swiper/vue'\r\nimport 'swiper/css'\r\nimport 'swiper/css/pagination'\r\nimport 'swiper/css/navigation'\r\nimport { Pagination, Navigation } from 'swiper/modules'\r\nimport { buyCountStore } from '@/stores/cartStore'\r\nimport { mapState } from 'pinia'\r\nexport default {\r\n  components: {\r\n    Swiper,\r\n    SwiperSlide\r\n  },\r\n  setup () {\r\n    return {\r\n      modules: [Pagination, Navigation]\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      recommendP: {},\r\n      product: {},\r\n      id: '',\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      qty: 1,\r\n      windowWidth: window.innerWidth\r\n    }\r\n  },\r\n  inject: ['$httpMessageState'],\r\n  methods: {\r\n    getProduct () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((response) => {\r\n        this.isLoading = false\r\n        if (response.data.success) {\r\n          this.product = response.data.product\r\n        }\r\n      })\r\n    },\r\n    getrecommend (id) {\r\n      this.id = id\r\n      this.$router.push(`/product/${id}`)\r\n      this.getProduct()\r\n    },\r\n    getrecommendP () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        this.recommendP = response.data.products\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    addToCart (id, qty = this.qty) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      const cart = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: cart }).then((response) => {\r\n        this.isLoading = false\r\n        this.$httpMessageState(response, '加入購物車')\r\n        this.getCart()\r\n        this.$router.push('/products')\r\n      })\r\n    },\r\n    addrecommend (id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(url, { data: cart }).then((res) => {\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n      })\r\n    },\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        this.cart = response.data.data\r\n        if (this.cart.carts.length !== 0) {\r\n          this.setbuyCount(this.cart.carts.map(el => el.qty).reduce((a, b) => a + b))\r\n        }\r\n        this.isLoading = false\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(buyCountStore, ['getbuyCount', 'setbuyCount'])\r\n  },\r\n  mounted () {\r\n    window.addEventListener('resize', () => {\r\n      this.windowWidth = window.innerWidth\r\n    })\r\n  },\r\n  created () {\r\n    this.id = this.$route.params.productId\r\n    this.getProduct()\r\n    this.getrecommendP()\r\n  },\r\n  updated () {\r\n    window.scroll(0, 0)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserProductDetail.vue?vue&type=template&id=f4dbc94c\"\nimport script from \"./UserProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["buyCountStore","defineStore","state","buyCount","getters","getbuyCount","actions","setbuyCount","count","this","class","style","key","_createElementVNode","role","_hoisted_28","_hoisted_40","_createElementBlock","_Fragment","_createVNode","_component_UserLoading","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_5","_toDisplayString","$data","product","title","_hoisted_6","_hoisted_7","src","imageUrl","alt","_hoisted_8","_hoisted_9","content","_hoisted_10","description","price","_createCommentVNode","_hoisted_11","origin_price","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","type","min","_cache","$event","qty","number","_hoisted_16","onClick","$options","addToCart","id","_hoisted_17","windowWidth","_createBlock","_component_swiper","navigation","slidesPerView","spaceBetween","pagination","modules","$setup","_renderList","recommendP","item","_component_swiper_slide","_hoisted_18","getrecommend","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","disabled","status","loadingItem","addrecommend","_hoisted_27","_hoisted_29","_hoisted_26","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_39","_hoisted_41","_hoisted_38","_hoisted_42","components","Swiper","SwiperSlide","setup","Pagination","Navigation","data","window","innerWidth","inject","methods","getProduct","api","$http","get","then","response","success","$router","push","getrecommendP","url","products","cart","product_id","post","$httpMessageState","getCart","res","carts","length","map","el","reduce","a","b","computed","mapState","mounted","addEventListener","created","$route","params","productId","updated","scroll","__exports__","render"],"sourceRoot":""}