{"version":3,"file":"js/576.34b0d24b.js","mappings":"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","sources":["webpack://vue_flower/./src/stores/cartStore.js","webpack://vue_flower/./src/views/frontend/UserCheckForm.vue","webpack://vue_flower/./src/views/frontend/UserCheckForm.vue?8ef0"],"sourcesContent":["import { defineStore } from 'pinia'\r\n\r\nexport const buyCountStore = defineStore('buyCount', {\r\n  state: () => ({\r\n    buyCount: 0\r\n  }),\r\n  getters: {\r\n    getbuyCount: ({ buyCount }) => {\r\n      return buyCount\r\n    }\r\n  },\r\n  actions: {\r\n    setbuyCount (count) {\r\n      this.buyCount = count\r\n    }\r\n  }\r\n})\r\n","<template>\r\n  <UserLoading :active=\"isLoading\"/>\r\n\r\n  <div class=\"container-fluid\">\r\n    <div class=\"container-fluid p-3\">\r\n      <div class=\"row\">\r\n        <div class=\"col d-flex flex-column flex-md-row justify-content-center align-items-center px-1 px-md-0\">\r\n          <button type=\"button\"\r\n            class=\"btn bg-success text-white btn-sm rounded-pill\"\r\n            style=\"width: 2rem; height: 2rem\"\r\n          >\r\n            1\r\n          </button>\r\n          <p class=\"ms-md-2 my-2 my-md-auto text-success text-nowrap\">訂購資料</p>\r\n        </div>\r\n        <span\r\n          class=\"bg-white w-25 rounded my-auto mx-0 mx-md-3 col\"\r\n          style=\"height: 0.2rem\"\r\n        >\r\n        </span>\r\n        <div class=\"col d-flex flex-column flex-md-row justify-content-center align-items-center px-1 px-md-0\">\r\n          <button type=\"button\"\r\n            class=\"btn bg-white text-black btn-sm rounded-pill\"\r\n            style=\"width: 2rem; height: 2rem\"\r\n          >\r\n            2\r\n          </button>\r\n          <p class=\"ms-md-2 my-2 my-md-auto text-black text-nowrap\">確認付款</p>\r\n        </div>\r\n        <span\r\n          class=\"bg-white w-25 rounded my-auto mx-0 mx-md-3 col\"\r\n          style=\"height: 0.2rem\"\r\n        >\r\n        </span>\r\n        <div class=\"col d-flex flex-column flex-md-row justify-content-center align-items-center px-1 px-md-0\">\r\n          <button type=\"button\"\r\n            class=\"btn bg-white text-black btn-sm rounded-pill\"\r\n            style=\"width: 2rem; height: 2rem\"\r\n          >\r\n            3\r\n          </button>\r\n          <p class=\"ms-md-2 my-2 my-md-auto text-black text-nowrap\">完成訂單</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row container mx-auto\">\r\n  <!-- 表單 -->\r\n    <div class=\"col-md-6\">\r\n      <div class=\"my-4 row justify-content-center\">\r\n        <UserForm class=\"col-md-11\" v-slot=\"{ errors }\"\r\n          @submit=\"createOrder\">\r\n          <div class=\"mb-3\">\r\n              <label for=\"email\" class=\"form-label\">Email *</label>\r\n              <UserField id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['email'] }\"\r\n                      placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n                      v-model=\"form.user.email\"></UserField>\r\n              <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"name\" class=\"form-label\">收件人姓名 *</label>\r\n              <UserField id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                      placeholder=\"請輸入姓名\" rules=\"required\"\r\n                      v-model=\"form.user.name\"></UserField>\r\n              <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"tel\" class=\"form-label\">收件人電話 *</label>\r\n              <UserField id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                      placeholder=\"請輸入電話\" rules=\"required\"\r\n                      v-model=\"form.user.tel\"></UserField>\r\n              <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"address\" class=\"form-label\">收件人地址 *</label>\r\n              <UserField id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\r\n                      :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                      placeholder=\"請輸入地址\" rules=\"required\"\r\n                      v-model=\"form.user.address\"></UserField>\r\n              <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"message\" class=\"form-label\">留言</label>\r\n              <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"3\"\r\n                      v-model=\"form.message\"></textarea>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n            </div>\r\n            <div class=\"text-end\">\r\n              <button type=\"submit\" class=\"btn btn-danger\">送出訂單</button>\r\n            </div>\r\n        </UserForm>\r\n      </div>\r\n    </div>\r\n  <!-- 購買商品 -->\r\n    <div class=\"col-md-6 sticky-top h-100 mb-3 mt-3 bg-transparent\" style=\"top: 56px;\">\r\n      <table class=\"table align-middle border-light\" style=\"--bs-table-bg: rgba(0,0,0,0);\">\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th style=\"width: 120px\"></th>\r\n            <th style=\"width: 120px\">品名</th>\r\n            <th style=\"width: 120px\">數量</th>\r\n            <th>單價</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <template v-if=\"cart.carts\">\r\n            <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n              <td>\r\n                <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\r\n                :disabled=\"status.loadingItem === item.id\"\r\n                @click=\"removeCartItem(item.id)\">\r\n                  <i class=\"bi bi-x\"></i>\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <img :src=\"item.product.imageUrl\" alt=\"商品圖片\" class=\"img-fluid\">\r\n              </td>\r\n              <td>\r\n                {{ item.product.title }}\r\n                <div class=\"text-success\" v-if=\"item.coupon\">\r\n                  已套用優惠券\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <div class=\"input-group input-group-sm\">\r\n                  <input type=\"number\" class=\"form-control\"\r\n                  min=\"1\"\r\n                  :disabled=\"item.id === status.loadingItem\"\r\n                  @change=\"updateCart(item)\"\r\n                  v-model.number=\"item.qty\">\r\n                  <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\r\n                </div>\r\n              </td>\r\n              <td class=\"text-end\">\r\n                <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\r\n                {{ $filters.currency(item.final_total) }}\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-end\">總計</td>\r\n            <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\r\n          </tr>\r\n          <tr v-if=\"cart.final_total !== cart.total\">\r\n            <td></td>\r\n            <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n            <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n      <div class=\"input-group input-group-sm w-50 ms-auto\" v-if=\"windowWidth > 992\">\r\n        <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\r\n        <div class=\"input-group-append\">\r\n          <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\r\n            套用優惠碼\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"input-group input-group-sm\" v-else>\r\n        <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\r\n        <div class=\"input-group-append\">\r\n          <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\r\n            套用優惠碼\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { buyCountStore } from '@/stores/cartStore'\r\nimport { mapState } from 'pinia'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      cart: {},\r\n      isLoading: false,\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      products: [],\r\n      coupon_code: '',\r\n      windowWidth: window.innerWidth\r\n    }\r\n  },\r\n  inject: ['$httpMessageState'],\r\n  methods: {\r\n    createOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.$http.post(url, { data: order })\r\n        .then((res) => {\r\n          this.$httpMessageState(res, '建立訂單')\r\n          this.setbuyCount(0)\r\n          this.$router.push(`/checkout/${res.data.orderId}`)\r\n        })\r\n    },\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        this.cart = response.data.data\r\n        this.isLoading = false\r\n        if (this.cart.carts[0].coupon) {\r\n          this.coupon_code = this.cart.carts[0].coupon.code\r\n        }\r\n      })\r\n    },\r\n    updateCart (item) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.isLoading = true\r\n      this.status.loadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.$http.put(url, { data: cart }).then((res) => {\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n      })\r\n    },\r\n    addCouponCode () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      let coupon = {}\r\n      if (this.coupon_code !== '') {\r\n        this.nowuse_coupon_code = this.coupon_code\r\n      } else {\r\n        this.coupon_code = this.nowuse_coupon_code\r\n      }\r\n      if (this.cart.carts.length === 0) {\r\n        this.coupon_code = ''\r\n        this.nowuse_coupon_code = ''\r\n      }\r\n      coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: coupon }).then((response) => {\r\n        if (this.coupon_code) {\r\n          this.$httpMessageState(response, '加入優惠券')\r\n          this.getCart()\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    removeCartItem (id) {\r\n      this.status.loadingItem = id\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.isLoading = true\r\n      this.$http.delete(url).then((response) => {\r\n        this.$httpMessageState(response, '移除購物車品項')\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n        this.isLoading = false\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(buyCountStore, ['getbuyCount', 'setbuyCount'])\r\n  },\r\n  mounted () {\r\n    window.addEventListener('resize', () => {\r\n      this.windowWidth = window.innerWidth\r\n    })\r\n  },\r\n  created () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCheckForm.vue?vue&type=template&id=d90d00ca\"\nimport script from \"./UserCheckForm.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["buyCountStore","defineStore","state","buyCount","getters","getbuyCount","actions","setbuyCount","count","this","_createStaticVNode","class","_createElementVNode","for","type","style","_hoisted_21","key","colspan","_createElementBlock","_Fragment","_createVNode","_component_UserLoading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_UserForm","onSubmit","$options","createOrder","default","_withCtx","errors","_hoisted_5","_hoisted_6","_component_UserField","id","name","_normalizeClass","placeholder","rules","modelValue","form","user","email","_cache","$event","_component_ErrorMessage","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","tel","_hoisted_11","_hoisted_12","address","_hoisted_13","_hoisted_14","cols","rows","message","_hoisted_15","_hoisted_16","_","_hoisted_17","_hoisted_18","_hoisted_19","cart","carts","_renderList","item","disabled","status","loadingItem","onClick","removeCartItem","_hoisted_22","_hoisted_20","src","product","imageUrl","alt","_hoisted_23","_createTextVNode","_toDisplayString","title","coupon","_hoisted_24","_createCommentVNode","_hoisted_25","min","onChange","updateCart","qty","_hoisted_26","number","_hoisted_27","unit","_hoisted_28","final_total","total","_hoisted_29","_ctx","$filters","currency","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","windowWidth","_hoisted_37","coupon_code","_hoisted_38","args","addCouponCode","_hoisted_39","_hoisted_40","data","products","window","innerWidth","inject","methods","url","order","$http","post","then","res","$httpMessageState","$router","push","orderId","getCart","get","response","code","product_id","put","nowuse_coupon_code","length","delete","computed","mapState","mounted","addEventListener","created","__exports__","render"],"sourceRoot":""}