{"version":3,"file":"js/463.49ddb6a1.js","mappings":"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","sources":["webpack://vue_flower/./src/views/UserProductDetail.vue","webpack://vue_flower/./src/views/UserProductDetail.vue?3dd4"],"sourcesContent":["<template>\r\n    <UserLoading :active=\"isLoading\"></UserLoading>\r\n    <div class=\"container\">\r\n      <nav aria-label=\"breadcrumb\">\r\n        <ol class=\"breadcrumb pt-3\">\r\n          <li class=\"breadcrumb-item\"><router-link to=\"/products\">產品</router-link></li>\r\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\r\n        </ol>\r\n      </nav>\r\n      <div class=\"row justify-content-center\">\r\n        <article class=\"col-8\">\r\n          <img :src=\"product.imageUrl\" alt=\"\" class=\"img-fluid mx-auto d-block\" style=\"height: 80%; object-fit: cover;\">\r\n        </article>\r\n        <div class=\"col-4\">\r\n          <h2>{{ product.title }}</h2>\r\n          <div>{{ product.content }}</div>\r\n          <pre class=\"mt-3\">{{ product.description }}</pre>\r\n          <div class=\"h5\" v-if=\"!product.price\">{{ product.origin_price }} 元</div>\r\n          <del class=\"h6\" v-if=\"product.price\">原價 {{ product.origin_price }} 元</del>\r\n          <div class=\"h5\" v-if=\"product.price\">現在只要 {{ product.price }} 元</div>\r\n          <hr>\r\n          <button type=\"button\" class=\"btn btn-outline-danger\"\r\n                  @click=\"addToCart(product.id)\">\r\n            加到購物車\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <h2 class=\"mb-3\">推薦商品</h2>\r\n      <swiper\r\n        :navigation=\"true\"\r\n        :slidesPerView=\"3\"\r\n        :spaceBetween=\"50\"\r\n        :pagination=\"{\r\n          dynamicBullets: true,\r\n        }\"\r\n        :modules=\"modules\"\r\n        class=\"mySwiper pb-4 px-5\"\r\n      >\r\n        <template v-for=\"item in recommendP\" :key=\"item.id\">\r\n          <swiper-slide>\r\n            <div class=\"card h-100\">\r\n              <img :src=item.imageUrl class=\"card-img-top\" alt=\"\" style=\"height: 200px; object-fit: cover;\">\r\n              <div class=\"card-body\">\r\n                <h5 class=\"card-title\">{{ item.title }}</h5>\r\n                <div class=\"h5\" v-if=\"!item.price\">{{ item.origin_price }} 元</div>\r\n                <del class=\"h6\" v-if=\"item.price\">原價 {{ item.origin_price }} 元</del>\r\n                <div class=\"h5\" v-if=\"item.price\">現在只要 {{ item.price }} 元</div>\r\n\r\n                <div class=\"btn-group btn-group-sm\">\r\n                  <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                          @click=\"getrecommend(item.id)\">\r\n                    查看更多\r\n                  </button>\r\n                  <button type=\"button\" class=\"btn btn-outline-danger\"\r\n                  :disabled=\"this.status.loadingItem === item.id\"\r\n                  @click=\"addrecommend(item.id)\">\r\n                  <div v-if=\"this.status.loadingItem === item.id\" class=\"spinner-grow text-danger spinner-grow-sm\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                    加到購物車\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </swiper-slide>\r\n        </template>\r\n      </swiper>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Swiper, SwiperSlide } from 'swiper/vue'\r\n\r\n// Import Swiper styles\r\nimport 'swiper/css'\r\n\r\nimport 'swiper/css/pagination'\r\nimport 'swiper/css/navigation'\r\n\r\n// import required modules\r\nimport { Pagination, Navigation } from 'swiper/modules'\r\nexport default {\r\n  components: {\r\n    Swiper,\r\n    SwiperSlide\r\n  },\r\n  setup () {\r\n    return {\r\n      modules: [Pagination, Navigation]\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      recommendP: {},\r\n      product: {},\r\n      id: '',\r\n      status: {\r\n        loadingItem: ''\r\n      }\r\n    }\r\n  },\r\n  inject: ['$httpMessageState'],\r\n  methods: {\r\n    getProduct () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((response) => {\r\n        console.log(response.data)\r\n        this.isLoading = false\r\n        if (response.data.success) {\r\n          this.product = response.data.product\r\n        }\r\n      })\r\n    },\r\n    getrecommend (id) {\r\n      this.id = id\r\n      this.$router.push(`/product/${id}`)\r\n      this.getProduct()\r\n    },\r\n    getrecommendP () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        this.recommendP = response.data.products\r\n        console.log('products:', response)\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    addToCart (id, qty = 1) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      const cart = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: cart }).then((response) => {\r\n        this.isLoading = false\r\n        this.$httpMessageState(response, '加入購物車')\r\n        this.$router.push('/products')\r\n      })\r\n    },\r\n    addrecommend (id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(url, { data: cart }).then((res) => {\r\n        this.status.loadingItem = ''\r\n        console.log(res)\r\n        this.getCart()\r\n      })\r\n    },\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        console.log(response)\r\n        this.cart = response.data.data\r\n        this.isLoading = false\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.id = this.$route.params.productId\r\n    this.getProduct()\r\n    this.getrecommendP()\r\n  },\r\n  updated () {\r\n    window.scroll(0, 0)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserProductDetail.vue?vue&type=template&id=25535b60\"\nimport script from \"./UserProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementVNode","role","_hoisted_27","_createElementBlock","_Fragment","_createVNode","_component_UserLoading","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_5","_toDisplayString","$data","product","title","_hoisted_6","_hoisted_7","src","imageUrl","alt","style","_hoisted_8","_hoisted_9","content","_hoisted_10","description","price","_createCommentVNode","_hoisted_11","origin_price","_hoisted_12","_hoisted_13","_hoisted_14","type","onClick","_cache","$event","$options","addToCart","id","_hoisted_15","_component_swiper","navigation","slidesPerView","spaceBetween","pagination","modules","$setup","_renderList","recommendP","item","_createBlock","_component_swiper_slide","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","getrecommend","_hoisted_24","disabled","status","loadingItem","addrecommend","_hoisted_26","_hoisted_28","_hoisted_25","components","Swiper","SwiperSlide","setup","Pagination","Navigation","data","inject","methods","getProduct","api","this","$http","get","then","response","console","log","success","$router","push","getrecommendP","url","products","qty","cart","product_id","post","$httpMessageState","res","getCart","created","$route","params","productId","updated","window","scroll","__exports__","render"],"sourceRoot":""}